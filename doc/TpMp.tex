% arara: pdflatex
% arara: bibtex
% arara: pdflatex
% arara: pdflatex

\documentclass[a4paper,11pt]{article}
\pdfoutput=1 % if your are submitting a pdflatex (i.e. if you have
             % images in pdf, png or jpg format)

\usepackage[a4paper,
total={170mm,257mm},
left=20mm,
top=20mm,]{geometry}

\usepackage[dvipsnames]{xcolor}
\usepackage{longtable}
\usepackage{authblk}
\usepackage{hyperref}

\usepackage{titlesec}
\titleformat{\section}[block]{\color{blue}\Large\bfseries\filcenter}{}{1em}{}
\titleformat{\subsection}[hang]{\bfseries}{}{1em}{}


\title{\textcolor{red}{\texttt{\Huge TpMp}} - topology mapping}


\author{Andrey Pikelner}
\affil{II.~Institut f\"ur Theoretische Physik, Universit\"at Hamburg,\\
Luruper Chaussee 149, 22761 Hamburg, Germany}


% \emailAdd{andrey.pikelner@desy.de}


% Mathematica commands in blue
\newcommand{\mma}[1]{\textcolor{BlueGreen}{\texttt{#1}}}
% Color tt
\newcommand{\ctt}[1]{\textcolor{OliveGreen}{\texttt{#1}}}

\setcounter{secnumdepth}{0}
\begin{document} 
\maketitle

\abstract{We present program for diagram generation and mapping on
  topology working with \texttt{Mathematica} interface. Available from
  \url{https://github.com/apik/TpMp}}


\section*{Design ideas}

\subsection*{QGRAF input conventions}
\begin{itemize}
\item We use all particles as internal in QGRAF. Field out kept blank.
\begin{verbatim}
   in  = phi,phi ;
   out = ;
\end{verbatim}
\item All fields in model file must contain field \ctt{type} with
  possible values \ctt{F,M,S,C,A} in addition to
  comutativity flag $\pm$.
\begin{verbatim}
   [ phi, phi, + ; type='S']
\end{verbatim}
\end{itemize}


\section*{Main commands available in package }

\subsection*{Loading diagrams}
\begingroup
\renewcommand\arraystretch{2}
\begin{longtable}{p{4cm}|p{11cm}}
  \mma{LoadQGRAF["qlist"]}
  & Load \texttt{QGRAF}\cite{Nogueira:1991ex} output \texttt{qlist.yaml} in YAML format produced with the help of
    yaml.sty style file and produce SQLite 3 DB with generated
    diagrams and name \texttt{qlist.sqlite3}.\\
  \mma{nDB=LoadDB["db"]}
  & Load SQLite 3 DB from file \texttt{db.sqlite3} with diagrams and
    return numeric descriptor \texttt{nDB} of open DB.\\
  \mma{GetDia[nDia,nDB]}
  & Retrive diagram with number \texttt{nDia} from DB with descriptor
    \texttt{nDB}.\\
\end{longtable}
\endgroup

When DB loaded all commands need DB decriptor to be specified. If DB
descriptor not specified explicitly - all commands applyed to first
open DB.

\subsection*{Selecting diagrams}

\begingroup
\renewcommand\arraystretch{2}
\begin{longtable}{p{4cm}|p{11cm}}
  \mma{WithField["f"]}
  & Select diagrams with field named "f".\\
  \mma{WithFieldType[T]}
  & Select diagrams with field type \texttt{T}, where \texttt{T} is
  one of: \texttt{F} - for Dirac fermion, \texttt{M} - for Majorana
  fermion, \texttt{S} - for scalar, \texttt{C} - for ghost and
  \texttt{A} - for auxiliary field type.\\
\end{longtable}
\endgroup

\subsection*{Plotting diagrams}


\section{Mapping}
\subsection{\texttt{U} and \texttt{F} polynimials}

$\mathcal{\nu}=$

\subsection{Internal structure}

For set of diagrams it is possible to define ``projections'' i.e.
diagrams with contraints on kinematical variables: masses and external
momentums.

Projections created with the help of command \texttt{Project["pr",subs]} where
parameters \texttt{"pr"} - unique name of projection and \texttt{subs}
- substitution rules.

% \appendix
% \section{Additions}
% \acknowledgments

\bibliographystyle{plain}
\bibliography{TpMp} 

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
